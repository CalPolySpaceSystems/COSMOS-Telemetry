# TELEMETRY PACKET DEFINITIONS (DATA COMING FROM THE ROCKET)

TELEMETRY CUBESTACK STATUS LITTLE_ENDIAN "Status"
  APPEND_ID_ITEM PACKET_ID 8 UINT 129 "Packet ID" 
  APPEND_ITEM STATUS_CODE 8 UINT "Status Code"
    STATE "Command Recieved" 0x31 GREEN
    STATE "Invalid Command" 0x32 RED
    STATE "Command Garbled" 0x33 RED
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"
  
TELEMETRY CUBESTACK TEMPERATURE LITTLE_ENDIAN "Temperature"
  APPEND_ID_ITEM PACKET_ID 8 UINT 131 "Packet ID"
  APPEND_ITEM TEMPERATURE 32 FLOAT "Temperature C"
    UNITS CELSIUS C
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"

TELEMETRY CUBESTACK GPS LITTLE_ENDIAN "GPS Data"
  APPEND_ID_ITEM PACKET_ID 8 UINT 132 "Packet ID"
  APPEND_ITEM TIME 32 UINT "TIME"
    UNITS MICROSECONDS us
  APPEND_ITEM FIX 8 UINT "Fix Quality"
    STATE NONE 0 RED
    STATE DR 1 GREEN
    STATE 2D 2 YELLOW
    STATE 3D 3 GREEN
    STATE GNSS_DR 4 GREEN
    STATE TIME_ONLY RED
  APPEND_ITEM LATITUDE 32 FLOAT "Latitude"
    FORMAT_STRING "%.6f"  
  APPEND_ITEM LONGITUDE 32 FLOAT "Longitude"
    FORMAT_STRING "%.6f"  
  APPEND_ITEM ALTITUDE 32 FLOAT "Altitude"
    FORMAT_STRING "%.4f"  
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"

TELEMETRY CUBESTACK IMU LITTLE_ENDIAN "IMU Data"
  APPEND_ID_ITEM PACKET_ID 8 UINT 133 "Packet ID"
  APPEND_ITEM TIME 32 UINT "Time"
    UNITS MICROSECONDS us
  APPEND_ITEM GYRO_X 32 FLOAT "Gyro_X"
    UNITS DEG_SECOND deg/s
    LIMITS DEFAULT 10 DISABLED -1000 -244 244 1000
  APPEND_ITEM GYRO_Y 32 FLOAT "Gyro_Y"
    UNITS DEG_SECOND deg/s
    LIMITS DEFAULT 10 DISABLED -1000 -244 244 1000
  APPEND_ITEM GYRO_Z 32 FLOAT "Gyro_Z"
    UNITS DEG_SECOND deg/s
    LIMITS DEFAULT 10 DISABLED -1000 -244 244 1000
  APPEND_ITEM ACCEL_X 32 FLOAT "Accel_X"
    UNITS METERS_SECOND2 m/s2
    LIMITS DEFAULT 10 DISABLED -16.0 -2.0 2.0 16.0
  APPEND_ITEM ACCEL_Y 32 FLOAT "Accel_Y"
    UNITS METERS_SECOND2 m/s2
    LIMITS DEFAULT 10 DISABLED -16.0 -2.0 2.0 16.0
  APPEND_ITEM ACCEL_Z 32 FLOAT "Accel_Z"
    UNITS METERS_SECOND2 m/s2
    LIMITS DEFAULT 10 DISABLED -16.0 -2.0 2.0 16.0
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"
  
TELEMETRY CUBESTACK IMU_RAW LITTLE_ENDIAN "Raw IMU Data"
  APPEND_ID_ITEM PACKET_ID 8 UINT 134 "Packet ID"
  APPEND_ITEM TIME 32 UINT "Time"
    UNITS MICROSECONDS us
  APPEND_ITEM GYRO_X 16 INT "Gyro_X"
    UNITS DEG_SECOND deg/s
    LIMITS DEFAULT 10 DISABLED -1000 -244 244 1000
    READ_CONVERSION gyro_convert_x.rb
    FORMAT_STRING "%.4f"  
  APPEND_ITEM GYRO_Y 16 INT "Gyro_Y"
    UNITS DEG_SECOND deg/s
    LIMITS DEFAULT 10 DISABLED -1000 -244 244 1000
    READ_CONVERSION gyro_convert_y.rb
    FORMAT_STRING "%.4f"  
  APPEND_ITEM GYRO_Z 16 INT "Gyro_Z"
    UNITS DEG_SECOND deg/s
    LIMITS DEFAULT 10 DISABLED -1000 -244 244 1000
    READ_CONVERSION gyro_convert_z.rb
    FORMAT_STRING "%.4f"  
  APPEND_ITEM ACCEL_X 16 INT "Accel_X"
    UNITS GS S
    LIMITS DEFAULT 10 DISABLED -16.0 -2.0 2.0 16.0
    READ_CONVERSION accel_convert_x.rb
    FORMAT_STRING "%.4f"  
  APPEND_ITEM ACCEL_Y 16 INT "Accel_Y"
    UNITS GS m/s2
    LIMITS DEFAULT 10 DISABLED -16.0 -2.0 2.0 16.0
    READ_CONVERSION accel_convert_y.rb
    FORMAT_STRING "%.4f"  
  APPEND_ITEM ACCEL_Z 16 INT "Accel_Z"
    UNITS GS G
    LIMITS DEFAULT 10 DISABLED -16.0 -2.0 2.0 16.0
    READ_CONVERSION accel_convert_z.rb
    FORMAT_STRING "%.4f"  
  APPEND_ITEM SAT 16 UINT "Saturation"
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"
  
TELEMETRY CUBESTACK MAGNETOMETER LITTLE_ENDIAN "Magnetometer Data"
  APPEND_ID_ITEM PACKET_ID 8 UINT 135 "Packet ID"
  APPEND_ITEM TIME 32 UINT "Time"
    UNITS MICROSECONDS us
  APPEND_ITEM MAG_X 32 FLOAT "Mag_X"
    UNITS GAUSS G
    LIMITS DEFAULT 10 DISABLED -50 -25 25 50
  APPEND_ITEM MAG_Y 32 FLOAT "Mag_Y"
    UNITS GAUSS G
    LIMITS DEFAULT 10 DISABLED -50 -25 25 50
  APPEND_ITEM MAG_Z 32 FLOAT "Mag_Z"
    UNITS GAUSS G
    LIMITS DEFAULT 10 DISABLED -50 -25 25 50
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"

TELEMETRY CUBESTACK MAGNETOMETER_RAW LITTLE_ENDIAN "Raw Magnetometer Data"
  APPEND_ID_ITEM PACKET_ID 8 UINT 136 "Packet ID"
  APPEND_ITEM TIME 32 UINT "Time"
    UNITS MICROSECONDS us
  APPEND_ITEM MAG_X 16 INT "Mag_X"
    UNITS MICROTESLA uT
    LIMITS DEFAULT 10 DISABLED -50 -25 25 50
    READ_CONVERSION mag_convert.rb
    FORMAT_STRING "%.4f"
  APPEND_ITEM MAG_Y 16 INT "Mag_Y"
    UNITS MICROTESLA uT
    LIMITS DEFAULT 10 DISABLED -50 -25 25 50
    READ_CONVERSION mag_convert.rb
    FORMAT_STRING "%.4f"  
  APPEND_ITEM MAG_Z 16 INT "Mag_Z"
    UNITS MICROTESLA uT
    LIMITS DEFAULT 10 DISABLED -50 -25 25 50  
    READ_CONVERSION mag_convert.rb
    FORMAT_STRING "%.4f"
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"

TELEMETRY CUBESTACK ALTITUDE LITTLE_ENDIAN "Altitude"
  APPEND_ID_ITEM PACKET_ID 8 UINT 137 "Packet ID"
  APPEND_ITEM TIME 32 UINT "Time"
    UNITS MICROSECONDS us
  APPEND_ITEM ALTITUDE 32 FLOAT "Altitude"
    UNITS METERS m
    LIMITS DEFAULT 10 ENABLED 2000.0 2359.0 7359.0 8719.0
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"
    
TELEMETRY CUBESTACK BAROMETER_FULL LITTLE_ENDIAN "Full Barometer Data"
  APPEND_ID_ITEM PACKET_ID 8 UINT 138 "Packet ID"
  APPEND_ITEM TIME 32 UINT "Time"
    UNITS MICROSECONDS us
  APPEND_ITEM PRESSURE 32 FLOAT "Pressure"
    UNITS MILLIBAR mbar  
  APPEND_ITEM DIE_TEMP 32 FLOAT "Die Temperature"
    UNITS CELSIUS C
  APPEND_ITEM ALTITUDE 32 FLOAT "Altitude"
    UNITS METERS m
    LIMITS DEFAULT 10 DISABLED 2000.0 2359.0 7359.0 8719.0
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"
  
TELEMETRY CUBESTACK PRESSURE_TAPS_RAW LITTLE_ENDIAN "Raw Pressure Taps Data"
  APPEND_ID_ITEM PACKET_ID 8 UINT 142 "Packet ID"
  APPEND_ITEM A0 16 UINT "Tap A0"
    UNITS KILOPASCAL KPa
    READ_CONVERSION pressure_taps_convert.rb
  APPEND_ITEM B0 16 UINT "Tap A0"
    UNITS KILOPASCAL KPa
    READ_CONVERSION pressure_taps_convert.rb
  APPEND_ITEM A1 16 UINT "Tap A1"
    UNITS KILOPASCAL KPa
    READ_CONVERSION pressure_taps_convert.rb
  APPEND_ITEM B1 16 UINT "Tap B1"
    UNITS KILOPASCAL KPa
    READ_CONVERSION pressure_taps_convert.rb
  APPEND_ITEM A2 16 UINT "Tap A2"
    UNITS KILOPASCAL KPa
    READ_CONVERSION pressure_taps_convert.rb
  APPEND_ITEM B2 16 UINT "Tap B2"
    UNITS KILOPASCAL KPa
    READ_CONVERSION pressure_taps_convert.rb
  APPEND_ITEM CHECKSUM 8 UINT "Checksum"
  